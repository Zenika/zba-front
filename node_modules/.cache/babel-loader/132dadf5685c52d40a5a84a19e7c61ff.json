{"ast":null,"code":"import _defineProperty from \"/home/henri/Documents/ZBA/React/ReactV1/ZbaFront/zba-front/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/henri/Documents/ZBA/React/ReactV1/ZbaFront/zba-front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/henri/Documents/ZBA/React/ReactV1/ZbaFront/zba-front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/henri/Documents/ZBA/React/ReactV1/ZbaFront/zba-front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/henri/Documents/ZBA/React/ReactV1/ZbaFront/zba-front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/henri/Documents/ZBA/React/ReactV1/ZbaFront/zba-front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/henri/Documents/ZBA/React/ReactV1/ZbaFront/zba-front/src/Home.js\";\nimport React, { Component } from 'react';\nimport RecipeTable from './RecipeTable';\nimport AddRecipe from './AddRecipe';\nimport logo from \"./zba.svg\";\nimport axios from 'axios';\nimport \"./App.css\";\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  function Home() {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Home).call(this));\n\n    _this.setUpdate = function () {\n      _this.delay(500).then(function () {\n        _this.setState(function (prevState) {\n          return {\n            update: !prevState.update\n          };\n        });\n      });\n    };\n\n    _this.onSubmit = function (e) {\n      e.preventDefault();\n      var _this$state = _this.state,\n          id = _this$state.id,\n          name = _this$state.name,\n          ingredientType = _this$state.ingredientType,\n          malt = _this$state.malt,\n          creator = _this$state.creator;\n\n      if (_this.state.editMode === false) {\n        axios.post('http://localhost:8080/Recipe', {\n          name: name,\n          ingredientType: ingredientType,\n          malt: malt,\n          creator: creator\n        }).then(function (result) {\n          console.log(\"Succesfully posted\");\n          console.log(name, ingredientType, malt, creator);\n        });\n\n        _this.initState();\n\n        _this.setUpdate();\n      } else {\n        axios.put('http://localhost:8080/Recipe', {\n          id: id,\n          name: name,\n          ingredientType: ingredientType,\n          malt: malt,\n          creator: creator\n        }).then(function (result) {\n          console.log(\"Succesfully update\");\n          console.log(id, name, ingredientType, malt, creator);\n        });\n\n        _this.initState();\n\n        _this.setUpdate();\n      }\n    };\n\n    _this.onChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.id, e.target.value));\n    };\n\n    _this.setEdit = function (name, ingredientType, malt, creator) {\n      if (_this.state.name === name) {\n        _this.initState();\n\n        _this.setState(function (prevState) {\n          return {\n            editMode: false\n          };\n        });\n      } else {\n        _this.setState(function (prevState) {\n          return {\n            editMode: true\n          };\n        });\n\n        _this.setState({\n          name: name,\n          ingredientType: ingredientType,\n          malt: malt,\n          creator: creator\n        });\n      }\n    };\n\n    _this.state = {\n      id: '',\n      name: '',\n      ingredientType: '',\n      malt: '',\n      creator: '',\n      update: true,\n      editMode: false\n    };\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"initState\",\n    value: function initState() {\n      this.setState({\n        name: '',\n        ingredientType: '',\n        malt: '',\n        creator: ''\n      });\n    }\n  }, {\n    key: \"delay\",\n    value: function delay(ms) {\n      return new Promise(function (resolve, reject) {\n        setTimeout(resolve, ms);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"App-in Font\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        className: \"App-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: logo,\n        className: \"Zba-logo\",\n        alt: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      })), \",\", React.createElement(\"div\", {\n        className: \"wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(AddRecipe, {\n        onSubmit: this.onSubmit,\n        onChange: this.onChange,\n        state: this.state,\n        setEdit: this.setEdit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), React.createElement(RecipeTable, {\n        setEdit: this.setEdit,\n        update: this.state.update,\n        setUpdate: this.setUpdate,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nexport default Home;","map":{"version":3,"sources":["/home/henri/Documents/ZBA/React/ReactV1/ZbaFront/zba-front/src/Home.js"],"names":["React","Component","RecipeTable","AddRecipe","axios","Home","setUpdate","delay","then","setState","prevState","update","onSubmit","e","preventDefault","state","id","name","ingredientType","malt","creator","editMode","post","result","console","log","initState","put","onChange","target","value","setEdit","ms","Promise","resolve","reject","setTimeout","logo"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport RecipeTable from './RecipeTable'\nimport AddRecipe from './AddRecipe'\nimport logo from './zba.svg';\nimport axios from 'axios';\nimport \"./App.css\"\n\nclass Home extends Component {\n  constructor() {\n    super()\n    this.state = {\n      id: '',\n      name:'',\n      ingredientType:'',\n      malt:'',\n      creator:'',\n      update:true,\n      editMode: false\n    }\n  }\n\n  initState() {\n    this.setState({ \n      name: '',\n      ingredientType: '',\n      malt: '',\n      creator: '',\n    })\n  }\n\n  delay(ms) {\n    return new Promise(function (resolve, reject) {\n        setTimeout(resolve, ms);\n    });\n  }\n\n  setUpdate = () => {\n    this.delay(500).then(() => {\n      this.setState(prevState => ({update: !prevState.update}))\n    })\n  }\n\n  onSubmit = (e) => {\n    e.preventDefault()\n    const {id, name, ingredientType, malt, creator } = this.state\n    if(this.state.editMode === false) {\n      axios.post('http://localhost:8080/Recipe', { name, ingredientType, malt, creator })\n        .then((result) => {\n          console.log(\"Succesfully posted\")\n          console.log( name, ingredientType, malt, creator )\n      });\n      this.initState()\n      this.setUpdate()\n    } else {\n      axios.put('http://localhost:8080/Recipe', {id, name, ingredientType, malt, creator })\n        .then((result) => {\n          console.log(\"Succesfully update\")\n          console.log(id, name, ingredientType, malt, creator )\n      });\n      this.initState()\n      this.setUpdate()\n    }\n  }\n\n  onChange = (e) => {\n    this.setState({ [e.target.id]: e.target.value })\n  }\n\n  setEdit = (name,ingredientType,malt,creator) => {\n    if(this.state.name === name) {\n        this.initState()\n        this.setState(prevState => ({editMode: false}))\n    } else {\n      this.setState(prevState => ({editMode: true}))\n      this.setState({ \n        name: name,\n        ingredientType: ingredientType,\n        malt: malt,\n        creator: creator\n      })\n    }\n  }\n\n\n  render() {\n    return (\n    \t<div className=\"App-in Font\">\n\t    \t<header className=\"App-header\">\n          \t\t<img src={logo} className=\"Zba-logo\" alt=\"logo\" />\n\t    \t</header>,\n        <div className=\"wrapper\">\n          <AddRecipe onSubmit={this.onSubmit} onChange={this.onChange} state={this.state} setEdit={this.setEdit}/>\n          <RecipeTable setEdit={this.setEdit} update={this.state.update} setUpdate={this.setUpdate}/>\n        </div>\n    \t</div>\n    )\n  }\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}